(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{118:(e,a,t)=>{"use strict";t.r(a),t.d(a,{batchPublishDrafts:()=>x,deleteDict:()=>N,deleteDraft:()=>v,fetchDictList:()=>b,fetchDraftList:()=>p,fetchJobList:()=>l,fetchTaskList:()=>h,fetchUserList:()=>g,getRechargeList:()=>R,getUserDetail:()=>k,getWxSseUrl:()=>n,jobDetail:()=>c,postWxCallback:()=>d,reRunTask:()=>m,saveDict:()=>j,submitAIEntry:()=>u,toPay:()=>S,updateDictState:()=>w,updateDraft:()=>f,updateUserDetail:()=>E,updateUserRole:()=>y});var r=t(6807);let s="http://localhost:8080",i=r.A.create({baseURL:s,timeout:36e4});function n(){return"".concat(s,"/api/wx/subscribe")}async function d(e){await i.post("/api/wx/callback",e,{headers:{"content-type":"application/xml"}})}async function l(e){var a;let t=await i.get("/api/oc/list",{params:e});if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取岗位列表失败")}async function c(e){var a;let t=await i.get("/api/oc/detail?id=".concat(e));if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取岗位信息失败")}function o(e){return e?"/api/admin/gather/asyncSubmit":"/api/admin/gather/submit"}async function u(e){var a,t;if(e.file){let a=new FormData;a.append("file",e.file),a.append("model",e.model),a.append("type",e.type);let r=await i.post(o(!0),a,{headers:{"Content-Type":"multipart/form-data"}});if(r.data&&0===r.data.code)return r.data.data;throw Error((null===(t=r.data)||void 0===t?void 0:t.msg)||"AI录入失败")}let r=await i.post(o(!0),e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(r.data&&0===r.data.code)return r.data.data;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"AI录入失败")}async function h(e){var a;let t=await i.post("/api/admin/gather/list",e);if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取任务列表失败")}async function m(e){var a;let t=await i.get("/api/admin/gather/reRun?taskId=".concat(e));if(t.data&&0===t.data.code)return!0===t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"重跑任务失败")}async function p(e){var a;let t=await i.get("/api/admin/draft/list",{params:e});if(t.data&&0===t.data.code)return Array.isArray(t.data.data)?{list:t.data.data,total:t.data.data.length}:t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取草稿列表失败")}async function x(e){var a;let t=await i.post("/api/admin/draft/toOc",e);if(!t.data||0!==t.data.code)throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"发布失败")}async function f(e){var a;let t=await i.post("/api/admin/draft/update",e);if(t.data&&0===t.data.code)return!0;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"草稿更新失败")}async function v(e){var a;let t=await i.get("/api/admin/draft/delete?draftId="+e);if(t.data&&0===t.data.code)return!0;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"草稿删除失败")}async function g(e){var a;let t=await i.get("/api/admin/user/list",{params:e});if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取用户列表失败")}async function y(e){var a;let t=new URLSearchParams;t.append("userId",String(e.userId)),t.append("role",String(e.role)),t.append("expireTime",String(e.expireTime));let r=await i.post("/api/admin/user/updateRole",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(r.data&&0===r.data.code)return!0===r.data.data;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"用户角色更新失败")}async function b(e){var a;let t=await i.get("/api/admin/dict/list",{params:e});if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取字典列表失败")}async function j(e){var a;let t=await i.post("/api/admin/dict/save",e);if(t.data&&0===t.data.code)return!0;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"保存字典失败")}async function w(e,a){var t;let r=await i.post("/api/admin/dict/updateState",{id:e,state:a},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(r.data&&0===r.data.code)return!0;throw Error((null===(t=r.data)||void 0===t?void 0:t.msg)||"更新状态失败")}async function N(e){var a;let t=await i.get("/api/admin/dict/delete?id="+e);if(t.data&&0===t.data.code)return!0;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"删除失败")}async function k(){var e;let a=await i.get("/api/user/detail");if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(e=a.data)||void 0===e?void 0:e.msg)||"获取用户信息失败")}async function E(e){var a;let t=await i.post("/api/user/update",e);if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"更新用户信息失败")}async function S(e){var a;let t=await i.get("/api/recharge/toPay?vipLevel=".concat(e));if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取支付信息失败")}async function R(){var e;let a=await i.get("/api/recharge/listRecords");if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(e=a.data)||void 0===e?void 0:e.msg)||"获取用户信息失败")}i.interceptors.request.use(e=>{{let a=localStorage.getItem("oc-token");a&&(e.headers=e.headers||{},e.headers["X-OC-TOKEN"]=a)}return e})},5160:(e,a,t)=>{"use strict";t.d(a,{$:()=>c,r:()=>l});var r=t(8081),s=t(2149),i=t(9907),n=t(3484),d=t(7687);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,a)=>{let{className:t,variant:s,size:n,asChild:c=!1,...o}=e,u=c?i.DX:"button";return(0,r.jsx)(u,{className:(0,d.cn)(l({variant:s,size:n,className:t})),ref:a,...o})});c.displayName="Button"},5977:(e,a,t)=>{"use strict";t.d(a,{E:()=>d});var r=t(8081);t(2149);var s=t(3484),i=t(7687);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:a,variant:t,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)(n({variant:t}),a),...s})}},6810:(e,a,t)=>{"use strict";t.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>l,Zp:()=>n,aR:()=>d});var r=t(8081),s=t(2149),i=t(7687);let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});n.displayName="Card";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...s})});d.displayName="CardHeader";let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",t),...s})});o.displayName="CardContent",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},7687:(e,a,t)=>{"use strict";t.d(a,{cn:()=>i,r:()=>n});var r=t(6522),s=t(4483);function i(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}function n(e){if(!e)return"-";let a=new Date(e);return"".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0")," ").concat(String(a.getHours()).padStart(2,"0"),":").concat(String(a.getMinutes()).padStart(2,"0"),":").concat(String(a.getSeconds()).padStart(2,"0"))}},7796:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var r=t(8081),s=t(2149),i=t(9651),n=t(1018);let d=(0,n.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),l=(0,n.A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),c=(0,n.A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),o=(0,n.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),u=(0,n.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),h=(0,n.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),m=(0,n.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),p=(0,n.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var x=t(5160),f=t(6810),v=t(5977),g=t(9181),y=t(118);function b(){let e=(0,i.useSearchParams)(),a=(0,i.useRouter)(),[t,n]=(0,s.useState)(null),[b,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let a=e.get("id");if(!a){n(null),N("未指定职位ID");return}j(!0),N(null),(0,y.jobDetail)(Number(a)).then(e=>n(e)).catch(e=>{n(null),N(e.message||"获取职位信息失败")}).finally(()=>j(!1))},[e]),b)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-gray-500 text-lg",children:"加载中..."})}):w?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:w}),(0,r.jsx)(x.$,{onClick:()=>a.back(),children:"返回列表"})]})}):t?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white border-b",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center h-16",children:[(0,r.jsxs)(x.$,{variant:"ghost",onClick:()=>a.back(),className:"mr-4",children:[(0,r.jsx)(d,{className:"h-4 w-4 mr-2"}),"返回列表"]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"职位详情"})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)(f.Zp,{className:"mb-6",children:(0,r.jsx)(f.aR,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f.ZB,{className:"text-2xl mb-2",children:t.companyName}),(0,r.jsx)(f.BT,{className:"text-lg text-gray-700 mb-4",children:t.position}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,r.jsxs)(v.E,{variant:"民企"===t.companyType?"default":"央国企"===t.companyType?"secondary":"outline",children:[(0,r.jsx)(l,{className:"h-3 w-3 mr-1"}),t.companyType]}),(0,r.jsxs)(v.E,{variant:"outline",className:"text-pink-600 border-pink-600",children:[(0,r.jsx)(c,{className:"h-3 w-3 mr-1"}),t.recruitmentType]}),(0,r.jsxs)(v.E,{variant:"outline",className:"text-blue-600 border-blue-600",children:[(0,r.jsx)(o,{className:"h-3 w-3 mr-1"}),t.recruitmentTarget]})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u,{className:"h-4 w-4 mr-1"}),t.jobLocation&&t.jobLocation.join("，")]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h,{className:"h-4 w-4 mr-1"}),"更新时间: ",t.lastUpdatedTime]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(m,{className:"h-4 w-4 mr-1"}),"截止时间: ",t.deadline]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsx)(x.$,{className:"bg-blue-500 hover:bg-blue-600",children:"立即投递"}),t.jobAnnouncement&&(0,r.jsx)(x.$,{variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50 bg-transparent",asChild:!0,children:(0,r.jsx)("a",{href:t.jobAnnouncement,target:"_blank",rel:"noopener noreferrer",children:"查看公告"})})]})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,r.jsxs)(f.Zp,{children:[(0,r.jsx)(f.aR,{children:(0,r.jsx)(f.ZB,{children:"备注"})}),(0,r.jsx)(f.Wu,{children:(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.remarks||"-"})})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(f.Zp,{children:[(0,r.jsx)(f.aR,{children:(0,r.jsx)(f.ZB,{children:"公司信息"})}),(0,r.jsxs)(f.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"公司名称"}),(0,r.jsx)("p",{className:"text-gray-600",children:t.companyName})]}),(0,r.jsx)(g.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"公司类型"}),(0,r.jsx)("p",{className:"text-gray-600",children:t.companyType})]}),(0,r.jsx)(g.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"工作地点"}),(0,r.jsx)("p",{className:"text-gray-600",children:t.jobLocation&&t.jobLocation.join("，")})]})]})]}),(0,r.jsxs)(f.Zp,{children:[(0,r.jsx)(f.aR,{children:(0,r.jsx)(f.ZB,{children:"投递状态"})}),(0,r.jsx)(f.Wu,{children:(0,r.jsxs)("div",{className:"text-center py-4",children:[(0,r.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-600 mb-4",children:t.deliveryProgress}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"您还未投递此职位"}),(0,r.jsx)(x.$,{className:"w-full bg-blue-500 hover:bg-blue-600",children:"立即投递简历"})]})})]}),t.relatedLink&&(0,r.jsxs)(f.Zp,{children:[(0,r.jsx)(f.aR,{children:(0,r.jsx)(f.ZB,{children:"相关链接"})}),(0,r.jsx)(f.Wu,{children:(0,r.jsx)(x.$,{variant:"outline",className:"w-full bg-transparent",asChild:!0,children:(0,r.jsxs)("a",{href:t.relatedLink,target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(p,{className:"h-4 w-4 mr-2"}),"查看更多信息"]})})})]})]})]})]})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"职位不存在"}),(0,r.jsx)(x.$,{onClick:()=>a.back(),children:"返回列表"})]})})}},8778:(e,a,t)=>{Promise.resolve().then(t.bind(t,7796))},9181:(e,a,t)=>{"use strict";t.d(a,{w:()=>d});var r=t(8081),s=t(2149),i=t(9462),n=t(7687);let d=s.forwardRef((e,a)=>{let{className:t,orientation:s="horizontal",decorative:d=!0,...l}=e;return(0,r.jsx)(i.b,{ref:a,decorative:d,orientation:s,className:(0,n.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",t),...l})});d.displayName=i.b.displayName},9462:(e,a,t)=>{"use strict";t.d(a,{b:()=>c});var r=t(2149),s=t(9215),i=t(8081),n="horizontal",d=["horizontal","vertical"],l=r.forwardRef((e,a)=>{var t;let{decorative:r,orientation:l=n,...c}=e,o=(t=l,d.includes(t))?l:n;return(0,i.jsx)(s.sG.div,{"data-orientation":o,...r?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:a})});l.displayName="Separator";var c=l},9651:(e,a,t)=>{"use strict";var r=t(4571);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})}},e=>{var a=a=>e(e.s=a);e.O(0,[613,807,497,954,358],()=>a(8778)),_N_E=e.O()}]);