(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{118:(e,t,a)=>{"use strict";a.d(t,{$f:()=>c,Ag:()=>i,Bs:()=>d,D9:()=>f,GZ:()=>o,II:()=>D,KE:()=>k,Mu:()=>g,Rz:()=>p,Tn:()=>y,Tv:()=>C,Uz:()=>h,VE:()=>u,Wj:()=>R,Y8:()=>S,YI:()=>L,cm:()=>x,eM:()=>j,fg:()=>l,jA:()=>b,lr:()=>N,qf:()=>I,up:()=>A,vF:()=>E,v_:()=>w,wg:()=>v,yN:()=>T});var r=a(6807);let n="http://localhost:8080",s=r.A.create({baseURL:n,timeout:36e4});function i(){return"".concat(n,"/api/wx/subscribe")}async function l(e){await s.post("/api/wx/callback",e,{headers:{"content-type":"application/xml"}})}async function o(e){var t;let a=await s.get("/api/oc/list",{params:e});if(a.data&&0===a.data.code)return a.data.data.online=a.data.online,a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"获取岗位列表失败")}async function d(e){var t;let a=await s.get("/api/oc/detail?id=".concat(e));if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"获取岗位信息失败")}async function c(e){var t;let a=await s.get("/api/admin/oc/list",{params:e});if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"获取岗位列表失败")}async function u(e){var t;let a=await s.post("/api/admin/oc/save",e);if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"提交岗位信息失败")}async function p(e){var t;console.log("这里啦");let a=await s.get("/api/admin/oc/updateState?id=".concat(e.id,"&state=").concat(e.state));if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"更新岗位状态失败")}function m(e){return e?"/api/admin/gather/asyncSubmit":"/api/admin/gather/submit"}async function f(e){var t,a;if(e.file){let t=new FormData;t.append("file",e.file),t.append("model",e.model),t.append("type",e.type);let r=await s.post(m(!0),t,{headers:{"Content-Type":"multipart/form-data"}});if(r.data&&0===r.data.code)return r.data.data;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"AI录入失败")}let r=await s.post(m(!0),e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(r.data&&0===r.data.code)return r.data.data;throw Error((null===(t=r.data)||void 0===t?void 0:t.msg)||"AI录入失败")}async function x(e){var t;let a=await s.post("/api/admin/gather/list",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"获取任务列表失败")}async function h(e){var t;let a=await s.get("/api/admin/gather/reRun?taskId=".concat(e));if(a.data&&0===a.data.code)return!0===a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"重跑任务失败")}async function g(e){var t,a;let r=await s.get("/api/admin/draft/list",{params:e});if(r.data&&0===r.data.code)return Array.isArray(r.data.data)?{list:r.data.data,total:null===(a=r.data.data)||void 0===a?void 0:a.length}:r.data.data;throw Error((null===(t=r.data)||void 0===t?void 0:t.msg)||"获取草稿列表失败")}async function v(e){var t;let a=await s.post("/api/admin/draft/toOc",e);if(!a.data||0!==a.data.code)throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"发布失败")}async function b(e){var t;let a=await s.post("/api/admin/draft/update",e);if(a.data&&0===a.data.code)return!0;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"草稿更新失败")}async function y(e){var t;let a=await s.get("/api/admin/draft/delete?draftId="+e);if(a.data&&0===a.data.code)return!0;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"草稿删除失败")}async function j(e){var t;let a=await s.get("/api/admin/user/list",{params:e});if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"获取用户列表失败")}async function w(e){var t;let a=new URLSearchParams;a.append("userId",String(e.userId)),a.append("role",String(e.role)),a.append("expireTime",String(e.expireTime));let r=await s.post("/api/admin/user/updateRole",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(r.data&&0===r.data.code)return!0===r.data.data;throw Error((null===(t=r.data)||void 0===t?void 0:t.msg)||"用户角色更新失败")}async function N(e){var t;let a=await s.get("/api/admin/dict/list",{params:e});if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"获取字典列表失败")}async function k(e){var t;let a=await s.post("/api/admin/dict/save",e);if(a.data&&0===a.data.code)return!0;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"保存字典失败")}async function C(e,t){var a;let r=await s.post("/api/admin/dict/updateState",{id:e,state:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(r.data&&0===r.data.code)return!0;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"更新状态失败")}async function S(e){var t;let a=await s.get("/api/admin/dict/delete?id="+e);if(a.data&&0===a.data.code)return!0;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"删除失败")}async function E(){var e;let t=await s.get("/api/user/detail");if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(e=t.data)||void 0===e?void 0:e.msg)||"获取用户信息失败")}async function T(e){var t;let a=await s.post("/api/user/update",e);if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"更新用户信息失败")}async function I(e){var t;let a=await s.get("/api/recharge/toPay?vipPrice=".concat(e));if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"获取支付信息失败")}async function R(e){var t;let a=await s.get("/api/recharge/paying?rechargeId=".concat(e));if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"同步支付状态失败~ 到购买记录看看吧")}async function D(e){var t;let a=await s.get("/api/recharge/refreshPay?rechargeId=".concat(e));if(a.data&&0===a.data.code)return a.data.data;throw Error((null===(t=a.data)||void 0===t?void 0:t.msg)||"重置状态失败~")}async function A(){var e;let t=await s.get("/api/recharge/listRecords");if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(e=t.data)||void 0===e?void 0:e.msg)||"获取用户信息失败")}async function L(){var e;let t=await s.get("/api/common/dict");if(t.data&&0===t.data.code){let e=t.data.data,a={};for(let t of e)a[t.app]=t;return a}throw Error((null===(e=t.data)||void 0===e?void 0:e.msg)||"获取全局配置失败")}s.interceptors.request.use(e=>{{let t=localStorage.getItem("oc-token");t&&(e.headers=e.headers||{},e.headers["X-OC-TOKEN"]=t)}return e})},900:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(8081),n=a(2149),s=a(7687);let i=n.forwardRef((e,t)=>{let{className:a,type:n,...i}=e;return(0,r.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},1580:(e,t,a)=>{"use strict";a.d(t,{C:()=>l});var r=a(118);let n="globalConfigCache";async function s(){let e=localStorage.getItem(n),t=Date.now();if(e)try{let a=JSON.parse(e);if(t-a.timestamp<3e5)return a.data}catch(e){console.error("Error parsing global config cache:",e)}let a=await (0,r.YI)();try{localStorage.setItem(n,JSON.stringify({timestamp:t,data:a}))}catch(e){console.error("Error saving global config to localStorage:",e)}return a}async function i(e){return(await s())[e]}async function l(e,t){let a=await i(e);return a&&a.items?a.items.filter(e=>e.key===t):[]}},2338:(e,t,a)=>{Promise.resolve().then(a.bind(a,9080))},4427:(e,t,a)=>{"use strict";a.d(t,{RG:()=>j,bL:()=>R,q7:()=>D});var r=a(2149),n=a(493),s=a(8703),i=a(9264),l=a(3940),o=a(7e3),d=a(9215),c=a(3425),u=a(3376),p=a(5261),m=a(8081),f="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[g,v,b]=(0,s.N)(h),[y,j]=(0,l.A)(h,[b]),[w,N]=y(h),k=r.forwardRef((e,t)=>(0,m.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(C,{...e,ref:t})})}));k.displayName=h;var C=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:s,loop:l=!1,dir:o,currentTabStopId:h,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:b,onEntryFocus:y,preventScrollOnEntryFocus:j=!1,...N}=e,k=r.useRef(null),C=(0,i.s)(t,k),S=(0,p.jH)(o),[E=null,T]=(0,u.i)({prop:h,defaultProp:g,onChange:b}),[R,D]=r.useState(!1),A=(0,c.c)(y),L=v(a),F=r.useRef(!1),[M,P]=r.useState(0);return r.useEffect(()=>{let e=k.current;if(e)return e.addEventListener(f,A),()=>e.removeEventListener(f,A)},[A]),(0,m.jsx)(w,{scope:a,orientation:s,dir:S,loop:l,currentTabStopId:E,onItemFocus:r.useCallback(e=>T(e),[T]),onItemShiftTab:r.useCallback(()=>D(!0),[]),onFocusableItemAdd:r.useCallback(()=>P(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>P(e=>e-1),[]),children:(0,m.jsx)(d.sG.div,{tabIndex:R||0===M?-1:0,"data-orientation":s,...N,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,n.m)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,n.m)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!R){let t=new CustomEvent(f,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=L().filter(e=>e.focusable);I([e.find(e=>e.active),e.find(e=>e.id===E),...e].filter(Boolean).map(e=>e.ref.current),j)}}F.current=!1}),onBlur:(0,n.m)(e.onBlur,()=>D(!1))})})}),S="RovingFocusGroupItem",E=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:s=!0,active:i=!1,tabStopId:l,...c}=e,u=(0,o.B)(),p=l||u,f=N(S,a),x=f.currentTabStopId===p,h=v(a),{onFocusableItemAdd:b,onFocusableItemRemove:y}=f;return r.useEffect(()=>{if(s)return b(),()=>y()},[s,b,y]),(0,m.jsx)(g.ItemSlot,{scope:a,id:p,focusable:s,active:i,children:(0,m.jsx)(d.sG.span,{tabIndex:x?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{s?f.onItemFocus(p):e.preventDefault()}),onFocus:(0,n.m)(e.onFocus,()=>f.onItemFocus(p)),onKeyDown:(0,n.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){f.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,a){var r;let n=(r=e.key,"rtl"!==a?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return T[n]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();let r=a.indexOf(e.currentTarget);a=f.loop?function(e,t){return e.map((a,r)=>e[(t+r)%e.length])}(a,r+1):a.slice(r+1)}setTimeout(()=>I(a))}})})})});E.displayName=S;var T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.activeElement;for(let r of e)if(r===a||(r.focus({preventScroll:t}),document.activeElement!==a))return}var R=k,D=E},4666:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var r=a(8081),n=a(2149),s=a(7687);let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});i.displayName="Textarea"},5160:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>o});var r=a(8081),n=a(2149),s=a(9907),i=a(3484),l=a(7687);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:n,size:i,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:a})),ref:t,...c})});d.displayName="Button"},5904:(e,t,a)=>{"use strict";a.d(t,{bq:()=>p,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>u});var r=a(8081),n=a(2149),s=a(5123),i=a(392),l=a(6801),o=a(6722),d=a(7687);let c=s.bL;s.YJ;let u=s.WT,p=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,r.jsxs)(s.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[n,(0,r.jsx)(s.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=s.l9.displayName;let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})});m.displayName=s.PP.displayName;let f=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=s.wn.displayName;let x=n.forwardRef((e,t)=>{let{className:a,children:n,position:i="popper",...l}=e;return(0,r.jsx)(s.ZL,{children:(0,r.jsxs)(s.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...l,children:[(0,r.jsx)(m,{}),(0,r.jsx)(s.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,r.jsx)(f,{})]})})});x.displayName=s.UC.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n})}).displayName=s.JU.displayName;let h=n.forwardRef((e,t)=>{let{className:a,children:n,...i}=e;return(0,r.jsxs)(s.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(s.p4,{children:n})]})});h.displayName=s.q7.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=s.wv.displayName},5977:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(8081);a(2149);var n=a(3484),s=a(7687);let i=(0,n.F)("inline-flex items-center rounded-lg border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)(i({variant:a}),t),...n})}},7687:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s,r:()=>i});var r=a(6522),n=a(4483);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,r.$)(t))}function i(e){if(!e)return"-";let t=new Date(e);return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")," ").concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"),":").concat(String(t.getSeconds()).padStart(2,"0"))}},9080:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var r=a(8081),n=a(2149),s=a(5160),i=a(900),l=a(5904),o=a(493),d=a(3940),c=a(4427),u=a(6552),p=a(9215),m=a(5261),f=a(3376),x=a(7e3),h="Tabs",[g,v]=(0,d.A)(h,[c.RG]),b=(0,c.RG)(),[y,j]=g(h),w=n.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:d="automatic",...c}=e,u=(0,m.jH)(o),[h,g]=(0,f.i)({prop:n,onChange:s,defaultProp:i});return(0,r.jsx)(y,{scope:a,baseId:(0,x.B)(),value:h,onValueChange:g,orientation:l,dir:u,activationMode:d,children:(0,r.jsx)(p.sG.div,{dir:u,"data-orientation":l,...c,ref:t})})});w.displayName=h;var N="TabsList",k=n.forwardRef((e,t)=>{let{__scopeTabs:a,loop:n=!0,...s}=e,i=j(N,a),l=b(a);return(0,r.jsx)(c.bL,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:(0,r.jsx)(p.sG.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});k.displayName=N;var C="TabsTrigger",S=n.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,disabled:s=!1,...i}=e,l=j(C,a),d=b(a),u=I(l.baseId,n),m=R(l.baseId,n),f=n===l.value;return(0,r.jsx)(c.q7,{asChild:!0,...d,focusable:!s,active:f,children:(0,r.jsx)(p.sG.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":m,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:t,onMouseDown:(0,o.m)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(n)}),onKeyDown:(0,o.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(n)}),onFocus:(0,o.m)(e.onFocus,()=>{let e="manual"!==l.activationMode;f||s||!e||l.onValueChange(n)})})})});S.displayName=C;var E="TabsContent",T=n.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,forceMount:i,children:l,...o}=e,d=j(E,a),c=I(d.baseId,s),m=R(d.baseId,s),f=s===d.value,x=n.useRef(f);return n.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(u.C,{present:i||f,children:a=>{let{present:n}=a;return(0,r.jsx)(p.sG.div,{"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!n,id:m,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:n&&l})}})});function I(e,t){return"".concat(e,"-trigger-").concat(t)}function R(e,t){return"".concat(e,"-content-").concat(t)}T.displayName=E;var D=a(7687);let A=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(k,{ref:t,className:(0,D.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...n})});A.displayName=k.displayName;let L=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(S,{ref:t,className:(0,D.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...n})});L.displayName=S.displayName;let F=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(T,{ref:t,className:(0,D.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n})});F.displayName=T.displayName;var M=a(4666),P=a(118),V=a(5977),z=a(1580);function G(e){if(!e)return"-";let t=new Date(e);return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")," ").concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"),":").concat(String(t.getSeconds()).padStart(2,"0"))}function q(){let[e,t]=(0,n.useState)("ai"),[a,o]=(0,n.useState)({companyName:"",companyType:"",location:"",recruitmentType:"",recruitmentTarget:"",position:"",applicationProgress:"",updateTime:"",deadline:"",relatedLinks:"",recruitmentNotice:"",referralCode:"",notes:""}),[d,c]=(0,n.useState)(""),[u,p]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[g,v]=(0,n.useState)(null),[b,y]=(0,n.useState)(null),j=(0,n.useRef)(null),[N,k]=(0,n.useState)(null),[C,S]=(0,n.useState)({page:1,size:10,taskId:"",model:"",type:"",state:""}),[E,T]=(0,n.useState)([]),[I,R]=(0,n.useState)(0),[D,q]=(0,n.useState)(!1),[_,B]=(0,n.useState)(null),[U,O]=(0,n.useState)([]),[K,W]=(0,n.useState)([]),[$,H]=(0,n.useState)([]),[J,Y]=(0,n.useState)([]),[X,Z]=(0,n.useState)([]),[Q,ee]=(0,n.useState)([]);(0,n.useEffect)(()=>{(0,z.C)("gather","GatherTargetTypeEnum").then(ee),(0,z.C)("gather","GatherModelEnum").then(Y),(0,z.C)("gather","GatherTaskStateEnum").then(Z),(0,z.C)("oc","CompanyTypeEnum").then(O),(0,z.C)("oc","RecruitmentTypeEnum").then(W),(0,z.C)("oc","RecruitmentTargetEnum").then(H)},[]),(0,n.useEffect)(()=>{(null==Q?void 0:Q.length)>0&&!d&&c(Q[0].value)},[Q]),(0,n.useEffect)(()=>{(null==J?void 0:J.length)>0&&!u&&p(J[0].value)},[J]);let et=(e,t)=>{o(a=>({...a,[e]:t}))},ea=async e=>{e.preventDefault(),h(!0),v(null);try{if(er){if(!b){v("请先选择文件"),h(!1);return}(0,P.D9)({content:m,model:u,type:d,file:b}).then(e=>{var t;v("提交成功！"+((null===(t=e.data)||void 0===t?void 0:t.msg)?"\n".concat(e.data.msg):"")),y(null)})}else(0,P.D9)({content:m,model:u,type:d,file:null}).then(e=>{var t;v("提交成功！"+((null===(t=e.data)||void 0===t?void 0:t.msg)?"\n".concat(e.data.msg):"")),f("")})}catch(e){var t,a;v("提交失败: "+((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.msg)||(null==e?void 0:e.message)||"未知错误"))}finally{h(!1)}},er=["4","5","6"].includes(d);return(0,n.useEffect)(()=>{function e(e){var t,a,r;if(!er)return;let n=null===(t=e.clipboardData)||void 0===t?void 0:t.items,s=!1;if(n){for(let e=0;e<(null==n?void 0:n.length);e++)if("file"===n[e].kind){y(n[e].getAsFile()),s=!0;break}}!s&&(null===(a=e.clipboardData)||void 0===a?void 0:a.files)&&(null===(r=e.clipboardData.files)||void 0===r?void 0:r.length)>0&&y(e.clipboardData.files[0])}return window.addEventListener("paste",e),()=>window.removeEventListener("paste",e)},[er]),(0,n.useEffect)(()=>{"task"===e&&(q(!0),(0,P.cm)({page:C.page,size:C.size,taskId:C.taskId?Number(C.taskId):void 0,model:C.model||void 0,type:C.type&&"-1"!==C.type?Number(C.type):void 0,state:C.state&&"-1"!==C.state?Number(C.state):void 0}).then(e=>{T(e.list||[]),R(e.total||0)}).finally(()=>q(!1)))},[e,C]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white border-b",children:(0,r.jsx)("div",{className:"full-w mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"职位录入"})})})}),(0,r.jsx)("div",{className:"full-w mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)(w,{value:e,onValueChange:t,className:"w-full",children:[(0,r.jsxs)(A,{className:"mb-6",children:[(0,r.jsx)(L,{value:"form",children:"表单录入"}),(0,r.jsx)(L,{value:"ai",children:"AI录入"}),(0,r.jsx)(L,{value:"task",children:"任务列表"})]}),(0,r.jsx)(F,{value:"form",children:(0,r.jsxs)("form",{className:"bg-white rounded-lg shadow p-6 space-y-4",onSubmit:e=>{e.preventDefault(),alert("表单录入成功！\n"+JSON.stringify(a,null,2)),o({companyName:"",companyType:"",location:"",recruitmentType:"",recruitmentTarget:"",position:"",applicationProgress:"",updateTime:"",deadline:"",relatedLinks:"",recruitmentNotice:"",referralCode:"",notes:""})},children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"公司名称"}),(0,r.jsx)(i.p,{value:a.companyName,onChange:e=>et("companyName",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"公司类型"}),(0,r.jsxs)(l.l6,{value:a.companyType,onValueChange:e=>et("companyType",e),children:[(0,r.jsx)(l.bq,{children:(0,r.jsx)(l.yv,{placeholder:"请选择"})}),(0,r.jsx)(l.gC,{children:U.map(e=>(0,r.jsx)(l.eb,{value:e.value,children:e.intro},e.value))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"工作地点"}),(0,r.jsx)(i.p,{value:a.location,onChange:e=>et("location",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"招聘类型"}),(0,r.jsxs)(l.l6,{value:a.recruitmentType,onValueChange:e=>et("recruitmentType",e),children:[(0,r.jsx)(l.bq,{children:(0,r.jsx)(l.yv,{placeholder:"请选择"})}),(0,r.jsx)(l.gC,{children:K.map(e=>(0,r.jsx)(l.eb,{value:e.value,children:e.intro},e.value))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"招聘对象"}),(0,r.jsxs)(l.l6,{value:a.recruitmentTarget,onValueChange:e=>et("recruitmentTarget",e),children:[(0,r.jsx)(l.bq,{children:(0,r.jsx)(l.yv,{placeholder:"请选择"})}),(0,r.jsx)(l.gC,{children:$.map(e=>(0,r.jsx)(l.eb,{value:e.value,children:e.intro},e.value))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"投递截止"}),(0,r.jsx)(i.p,{value:a.deadline,onChange:e=>et("deadline",e.target.value)})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"岗位描述"}),(0,r.jsx)(M.T,{rows:3,value:a.position,onChange:e=>et("position",e.target.value)})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"投递进度"}),(0,r.jsx)(i.p,{value:a.applicationProgress,onChange:e=>et("applicationProgress",e.target.value)})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"相关链接"}),(0,r.jsx)(i.p,{value:a.relatedLinks,onChange:e=>et("relatedLinks",e.target.value)})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"招聘公告"}),(0,r.jsx)(i.p,{value:a.recruitmentNotice,onChange:e=>et("recruitmentNotice",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"内推码"}),(0,r.jsx)(i.p,{value:a.referralCode,onChange:e=>et("referralCode",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"备注"}),(0,r.jsx)(i.p,{value:a.notes,onChange:e=>et("notes",e.target.value)})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(s.$,{type:"submit",children:"提交"})})]})}),(0,r.jsx)(F,{value:"ai",children:(0,r.jsxs)("form",{className:"bg-white rounded-lg shadow p-6 space-y-6",onSubmit:ea,children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"AI识别类型"}),(0,r.jsxs)(l.l6,{value:d,onValueChange:c,children:[(0,r.jsx)(l.bq,{children:(0,r.jsx)(l.yv,{placeholder:"请选择"})}),(0,r.jsx)(l.gC,{children:Q.map(e=>(0,r.jsx)(l.eb,{value:e.value,children:e.intro},e.value))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"大模型选择"}),(0,r.jsxs)(l.l6,{value:u,onValueChange:p,children:[(0,r.jsx)(l.bq,{children:(0,r.jsx)(l.yv,{placeholder:"请选择"})}),(0,r.jsx)(l.gC,{children:J.map(e=>(0,r.jsx)(l.eb,{value:e.value,children:e.intro},e.value))})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"AI输入内容"}),er?(0,r.jsxs)("div",{className:"border border-dashed border-gray-300 rounded-md flex flex-col items-center justify-center cursor-pointer bg-gray-50 hover:bg-gray-100 transition",style:{minHeight:260,height:320},onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},onDrop:e=>{e.preventDefault(),e.dataTransfer.files&&e.dataTransfer.files[0]&&y(e.dataTransfer.files[0])},onDragOver:e=>e.preventDefault(),onPaste:e=>{let t=e.clipboardData.items;for(let e=0;e<(null==t?void 0:t.length);e++)if("file"===t[e].kind){y(t[e].getAsFile());break}},children:[(0,r.jsx)("input",{type:"file",ref:j,className:"hidden",accept:"6"===d?"image/*":"5"===d?".csv":"4"===d?".xls,.xlsx":"",onChange:e=>{e.target.files&&e.target.files[0]&&y(e.target.files[0])}}),b?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 px-5",children:["6"===d&&b.type.startsWith("image/")&&(0,r.jsx)("img",{src:URL.createObjectURL(b),alt:"预览",className:"full-w gap-1 max-h-60 rounded border cursor-zoom-in",style:{objectFit:"contain"},onClick:e=>{e.stopPropagation(),k(URL.createObjectURL(b))}}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"text-blue-600 font-medium",children:["已选择文件：",b.name]}),(0,r.jsx)("button",{type:"button",className:"ml-2 px-2 py-0.5 rounded bg-gray-200 hover:bg-gray-300 text-gray-600 text-xs",onClick:e=>{e.stopPropagation(),y(null)},title:"清除附件",children:"\xd7"})]})]}):"6"===d?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,r.jsx)("svg",{className:"w-16 h-16 text-sky-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16V4m0 0l-4 4m4-4l4 4M20 16.58A5 5 0 0017 7h-1.26A8 8 0 104 16.25"})}),(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-700 mb-2",children:"上传图片提取数据报表"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-gray-500",children:[(0,r.jsx)("span",{children:"支持三种方式："}),(0,r.jsxs)("span",{className:"bg-sky-100 text-sky-600 px-2 py-1 rounded flex items-center text-sm",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"点击上传"]}),(0,r.jsxs)("span",{className:"bg-sky-100 text-sky-600 px-2 py-1 rounded flex items-center text-sm",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v13a1 1 0 001 1h14a1 1 0 001-1V7M4 7l8-5 8 5"})}),"拖拽图片"]}),(0,r.jsxs)("span",{className:"bg-sky-100 text-sky-600 px-2 py-1 rounded flex items-center text-sm",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 17l-4 4m0 0l-4-4m4 4V3"})}),"Ctrl+V 粘贴"]})]}),(0,r.jsxs)("button",{type:"button",className:"bg-sky-400 hover:bg-sky-500 text-white font-semibold px-8 py-2 rounded-full flex items-center text-lg shadow mb-2",onClick:e=>{var t;e.stopPropagation(),null===(t=j.current)||void 0===t||t.click()},children:[(0,r.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7M3 7l9-5 9 5"})}),"选择图片"]})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,r.jsx)("svg",{className:"w-16 h-16 text-sky-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16V4m0 0l-4 4m4-4l4 4M20 16.58A5 5 0 0017 7h-1.26A8 8 0 104 16.25"})}),(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-700 mb-2",children:"上传文件提取数据报表"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-gray-500",children:[(0,r.jsx)("span",{children:"支持两种方式："}),(0,r.jsxs)("span",{className:"bg-sky-100 text-sky-600 px-2 py-1 rounded flex items-center text-sm",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"点击上传"]}),(0,r.jsxs)("span",{className:"bg-sky-100 text-sky-600 px-2 py-1 rounded flex items-center text-sm",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v13a1 1 0 001 1h14a1 1 0 001-1V7M4 7l8-5 8 5"})}),"拖拽文件"]})]})]})]}):(0,r.jsx)(M.T,{rows:8,value:m,onChange:e=>f(e.target.value),placeholder:"请粘贴职位JD、简历或其他AI任务内容..."})]}),(0,r.jsxs)("div",{className:"flex justify-end",children:[(0,r.jsx)(s.$,{type:"submit",disabled:x,children:x?"提交中...":"提交"}),g&&(0,r.jsx)("p",{className:"ml-4 text-sm ".concat(g.includes("成功")?"text-green-600":"text-red-600"),children:g})]})]})}),(0,r.jsx)(F,{value:"task",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 items-center",children:[(0,r.jsx)(i.p,{placeholder:"任务ID",className:"w-32",value:C.taskId,onChange:e=>S(t=>({...t,taskId:e.target.value,page:1}))}),(0,r.jsxs)(l.l6,{value:C.model,onValueChange:e=>S(t=>({...t,model:e,page:1})),children:[(0,r.jsx)(l.bq,{className:"w-32",children:(0,r.jsx)(l.yv,{placeholder:"模型"})}),(0,r.jsxs)(l.gC,{children:[(0,r.jsx)(l.eb,{value:"-1",children:"全部模型"}),J.map(e=>(0,r.jsx)(l.eb,{value:e.value,children:e.intro},e.value))]})]}),(0,r.jsxs)(l.l6,{value:C.type,onValueChange:e=>S(t=>({...t,type:e,page:1})),children:[(0,r.jsx)(l.bq,{className:"w-32",children:(0,r.jsx)(l.yv,{placeholder:"抓取类型"})}),(0,r.jsxs)(l.gC,{children:[(0,r.jsx)(l.eb,{value:"-1",children:"全部类型"}),Q.map(e=>(0,r.jsx)(l.eb,{value:e.value,children:e.intro},e.value))]})]}),(0,r.jsxs)(l.l6,{value:C.state,onValueChange:e=>S(t=>({...t,state:e,page:1})),children:[(0,r.jsx)(l.bq,{className:"w-32",children:(0,r.jsx)(l.yv,{placeholder:"任务状态"})}),(0,r.jsxs)(l.gC,{children:[(0,r.jsx)(l.eb,{value:"-1",children:"全部状态"}),X.map(e=>(0,r.jsx)(l.eb,{value:e.value,children:e.intro},e.value))]})]}),(0,r.jsx)(s.$,{className:"h-10 px-6",onClick:()=>S(e=>({...e,page:1})),children:"查询"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm border",children:[(0,r.jsx)("thead",{className:"bg-gray-100",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"ID"}),(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"类型"}),(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"模型"}),(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"状态"}),(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"输入"}),(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"结果"}),(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"处理时间"}),(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"创建时间"}),(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"更新时间"}),(0,r.jsx)("th",{className:"px-2 py-1 border whitespace-nowrap text-center",children:"操作"})]})}),(0,r.jsx)("tbody",{children:D?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,className:"text-center text-gray-400 py-4",children:"加载中..."})}):(null==E?void 0:E.length)===0?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,className:"text-center text-gray-400 py-4",children:"暂无数据"})}):E.map(e=>{var t;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap text-center",children:e.taskId}),(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap text-center",children:(0,r.jsx)(V.E,{variant:"outline",className:1===e.type?"border-blue-500 text-blue-600":2===e.type?"border-gray-400 text-gray-600":3===e.type?"border-green-500 text-green-600":4===e.type?"border-orange-500 text-orange-600":5===e.type?"border-purple-500 text-purple-600":6===e.type?"border-pink-500 text-pink-600":"border-gray-300 text-gray-500",children:(()=>{let t=Q.find(t=>String(t.value)===String(e.type));return t?t.intro:e.type})()})}),(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap text-center",children:(()=>{let t=J.find(t=>String(t.value)===String(e.model));return t?t.intro:e.model})()}),(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap text-center",children:(0,r.jsx)(V.E,{variant:"outline",className:0===e.state?"border-gray-400 text-gray-600":1===e.state?"border-blue-500 text-blue-600":2===e.state?"border-green-500 text-green-600":3===e.state?"border-red-500 text-red-600":"border-gray-300 text-gray-500",children:(()=>{let t=X.find(t=>String(t.value)===String(e.state));return t?t.intro:e.state})()})}),(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap max-w-[200px] truncate text-center",title:e.content,children:6===e.type&&e.content?(0,r.jsx)("a",{href:e.content,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:e.content,alt:"图片",className:"max-w-[60px] max-h-[60px] rounded border hover:shadow mx-auto",style:{objectFit:"cover"}})}):(4===e.type||5===e.type)&&e.content?(0,r.jsx)("a",{href:e.content,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline break-all",children:(null===(t=e.content)||void 0===t?void 0:t.length)>32?e.content.slice(0,32)+"...":e.content}):(0,r.jsx)("span",{className:"break-all",children:e.content})}),(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap max-w-[200px] truncate text-center",title:e.result,children:(()=>{let t;try{t=JSON.parse(e.result)}catch(t){return e.result}let a=Array.isArray(null==t?void 0:t.insertDraftIds)&&t.insertDraftIds.length>0?"插入：".concat(t.insertDraftIds.join(",")):"",r=Array.isArray(null==t?void 0:t.updateDraftIds)&&t.updateDraftIds.length>0?"更新：".concat(t.updateDraftIds.join(",")):"";return a&&r?"".concat(a,"；").concat(r):a||r||(null==t?void 0:t.msg)||e.result})()}),(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap text-center",children:G(e.processTime)}),(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap text-center",children:G(e.createTime)}),(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap text-center",children:G(e.updateTime)}),(0,r.jsx)("td",{className:"border px-2 py-1 whitespace-nowrap text-center",children:(0,r.jsx)(s.$,{size:"sm",variant:"outline",disabled:_===e.id,onClick:async()=>{B(e.id);try{await (0,P.Uz)(e.id),S(e=>({...e}))}catch(e){alert("重跑失败: "+(e instanceof Error?e.message:"未知错误"))}finally{B(null)}},children:_===e.id?"重跑中...":"重跑"})})]},e.id)})})]})}),(0,r.jsxs)("div",{className:"flex justify-end items-center gap-2 mt-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500 mr-2",children:["第 ",C.page," / ",Math.ceil(I/(C.size||10))||1," 页"]}),(0,r.jsx)(s.$,{size:"sm",variant:"outline",disabled:1===C.page,onClick:()=>S(e=>({...e,page:(e.page||1)-1})),children:"上一页"}),(0,r.jsx)(s.$,{size:"sm",variant:"outline",disabled:C.page>=Math.ceil(I/(C.size||10)),onClick:()=>S(e=>({...e,page:(e.page||1)+1})),children:"下一页"})]})]})})]})}),N&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80",onClick:()=>k(null),style:{cursor:"zoom-out"},children:(0,r.jsx)("img",{src:N,alt:"全屏预览",className:"max-w-full max-h-full rounded shadow-lg",onClick:e=>e.stopPropagation()})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[613,127,171,807,55,497,954,358],()=>t(2338)),_N_E=e.O()}]);