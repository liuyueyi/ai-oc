(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{118:(e,a,r)=>{"use strict";r.d(a,{Ag:()=>i,Bs:()=>c,D9:()=>o,GZ:()=>l,Mu:()=>h,eM:()=>u,fg:()=>d,jA:()=>m,v_:()=>p,wg:()=>x});var t=r(6807);let s="http://localhost:8080",n=t.A.create({baseURL:s,timeout:36e4});function i(){return"".concat(s,"/api/wx/subscribe")}async function d(e){await n.post("/api/wx/callback",e,{headers:{"content-type":"application/xml"}})}async function l(e){var a;let r=await n.get("/api/oc/list",{params:e});if(r.data&&0===r.data.code)return r.data.data;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"获取岗位列表失败")}async function c(e){var a;let r=await n.get("/api/oc/detail?id=".concat(e));if(r.data&&0===r.data.code)return r.data.data;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"获取岗位信息失败")}async function o(e){var a;let r=await n.post("/api/admin/gather/submit",e);if(r.data&&0===r.data.code)return r.data.data;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"AI录入失败")}async function h(e){var a;let r=await n.get("/api/admin/draft/list",{params:e});if(r.data&&0===r.data.code)return Array.isArray(r.data.data)?{list:r.data.data,total:r.data.data.length}:r.data.data;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"获取草稿列表失败")}async function x(e){var a;let r=await n.post("/api/admin/draft/toOc",e);if(!r.data||0!==r.data.code)throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"发布失败")}async function m(e){var a;let r=await n.post("/api/admin/draft/update",e);if(r.data&&0===r.data.code)return!0;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"草稿更新失败")}async function u(e){var a;let r=await n.get("/api/admin/user/list",{params:e});if(r.data&&0===r.data.code)return r.data.data;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"获取用户列表失败")}async function p(e){var a;let r=new URLSearchParams;r.append("userId",String(e.userId)),r.append("role",String(e.role)),r.append("expireTime",String(e.expireTime));let t=await n.post("/api/admin/user/updateRole",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(t.data&&0===t.data.code)return!0===t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"用户角色更新失败")}n.interceptors.request.use(e=>{{let a=localStorage.getItem("oc-token");a&&(e.headers=e.headers||{},e.headers["X-OC-TOKEN"]=a)}return e})},5160:(e,a,r)=>{"use strict";r.d(a,{$:()=>c,r:()=>l});var t=r(8081),s=r(2149),n=r(9907),i=r(3484),d=r(7687);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,a)=>{let{className:r,variant:s,size:i,asChild:c=!1,...o}=e,h=c?n.DX:"button";return(0,t.jsx)(h,{className:(0,d.cn)(l({variant:s,size:i,className:r})),ref:a,...o})});c.displayName="Button"},5977:(e,a,r)=>{"use strict";r.d(a,{E:()=>d});var t=r(8081);r(2149);var s=r(3484),n=r(7687);let i=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:a,variant:r,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)(i({variant:r}),a),...s})}},6873:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>M});var t=r(8081),s=r(2149),n=r(9651),i=r(1018);let d=(0,i.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),l=(0,i.A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),c=(0,i.A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),o=(0,i.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),h=(0,i.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),x=(0,i.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),m=(0,i.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),u=(0,i.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var p=r(5160),f=r(7687);let v=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});v.displayName="Card";let g=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",r),...s})});g.displayName="CardHeader";let y=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});y.displayName="CardTitle";let j=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,f.cn)("text-sm text-muted-foreground",r),...s})});j.displayName="CardDescription";let b=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,f.cn)("p-6 pt-0",r),...s})});b.displayName="CardContent",s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,f.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter";var N=r(5977),w=r(9181),k=r(118);function M(){let e=(0,n.useSearchParams)(),a=(0,n.useRouter)(),[r,i]=(0,s.useState)(null),[f,M]=(0,s.useState)(!1),[C,A]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let a=e.get("id");if(!a){i(null),A("未指定职位ID");return}M(!0),A(null),(0,k.Bs)(Number(a)).then(e=>i(e)).catch(e=>{i(null),A(e.message||"获取职位信息失败")}).finally(()=>M(!1))},[e]),f)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-gray-500 text-lg",children:"加载中..."})}):C?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:C}),(0,t.jsx)(p.$,{onClick:()=>a.back(),children:"返回列表"})]})}):r?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white border-b",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center h-16",children:[(0,t.jsxs)(p.$,{variant:"ghost",onClick:()=>a.back(),className:"mr-4",children:[(0,t.jsx)(d,{className:"h-4 w-4 mr-2"}),"返回列表"]}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"职位详情"})]})})}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)(v,{className:"mb-6",children:(0,t.jsx)(g,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(y,{className:"text-2xl mb-2",children:r.companyName}),(0,t.jsx)(j,{className:"text-lg text-gray-700 mb-4",children:r.position}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,t.jsxs)(N.E,{variant:"民企"===r.companyType?"default":"央国企"===r.companyType?"secondary":"outline",children:[(0,t.jsx)(l,{className:"h-3 w-3 mr-1"}),r.companyType]}),(0,t.jsxs)(N.E,{variant:"outline",className:"text-pink-600 border-pink-600",children:[(0,t.jsx)(c,{className:"h-3 w-3 mr-1"}),r.recruitmentType]}),(0,t.jsxs)(N.E,{variant:"outline",className:"text-blue-600 border-blue-600",children:[(0,t.jsx)(o,{className:"h-3 w-3 mr-1"}),r.recruitmentTarget]})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h,{className:"h-4 w-4 mr-1"}),r.jobLocation&&r.jobLocation.join("，")]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x,{className:"h-4 w-4 mr-1"}),"更新时间: ",r.lastUpdatedTime]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(m,{className:"h-4 w-4 mr-1"}),"截止时间: ",r.deadline]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsx)(p.$,{className:"bg-blue-500 hover:bg-blue-600",children:"立即投递"}),r.jobAnnouncement&&(0,t.jsx)(p.$,{variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50 bg-transparent",asChild:!0,children:(0,t.jsx)("a",{href:r.jobAnnouncement,target:"_blank",rel:"noopener noreferrer",children:"查看公告"})})]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,t.jsxs)(v,{children:[(0,t.jsx)(g,{children:(0,t.jsx)(y,{children:"备注"})}),(0,t.jsx)(b,{children:(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.remarks||"-"})})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(v,{children:[(0,t.jsx)(g,{children:(0,t.jsx)(y,{children:"公司信息"})}),(0,t.jsxs)(b,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"公司名称"}),(0,t.jsx)("p",{className:"text-gray-600",children:r.companyName})]}),(0,t.jsx)(w.w,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"公司类型"}),(0,t.jsx)("p",{className:"text-gray-600",children:r.companyType})]}),(0,t.jsx)(w.w,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"工作地点"}),(0,t.jsx)("p",{className:"text-gray-600",children:r.jobLocation&&r.jobLocation.join("，")})]})]})]}),(0,t.jsxs)(v,{children:[(0,t.jsx)(g,{children:(0,t.jsx)(y,{children:"投递状态"})}),(0,t.jsx)(b,{children:(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-600 mb-4",children:r.deliveryProgress}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"您还未投递此职位"}),(0,t.jsx)(p.$,{className:"w-full bg-blue-500 hover:bg-blue-600",children:"立即投递简历"})]})})]}),r.relatedLink&&(0,t.jsxs)(v,{children:[(0,t.jsx)(g,{children:(0,t.jsx)(y,{children:"相关链接"})}),(0,t.jsx)(b,{children:(0,t.jsx)(p.$,{variant:"outline",className:"w-full bg-transparent",asChild:!0,children:(0,t.jsxs)("a",{href:r.relatedLink,target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(u,{className:"h-4 w-4 mr-2"}),"查看更多信息"]})})})]})]})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"职位不存在"}),(0,t.jsx)(p.$,{onClick:()=>a.back(),children:"返回列表"})]})})}},7687:(e,a,r)=>{"use strict";r.d(a,{cn:()=>n});var t=r(6522),s=r(4483);function n(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,s.QP)((0,t.$)(a))}},8778:(e,a,r)=>{Promise.resolve().then(r.bind(r,6873))},9181:(e,a,r)=>{"use strict";r.d(a,{w:()=>d});var t=r(8081),s=r(2149),n=r(9462),i=r(7687);let d=s.forwardRef((e,a)=>{let{className:r,orientation:s="horizontal",decorative:d=!0,...l}=e;return(0,t.jsx)(n.b,{ref:a,decorative:d,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...l})});d.displayName=n.b.displayName},9462:(e,a,r)=>{"use strict";r.d(a,{b:()=>c});var t=r(2149),s=r(9215),n=r(8081),i="horizontal",d=["horizontal","vertical"],l=t.forwardRef((e,a)=>{var r;let{decorative:t,orientation:l=i,...c}=e,o=(r=l,d.includes(r))?l:i;return(0,n.jsx)(s.sG.div,{"data-orientation":o,...t?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:a})});l.displayName="Separator";var c=l},9651:(e,a,r)=>{"use strict";var t=r(4571);r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(a,{useSearchParams:function(){return t.useSearchParams}})}},e=>{var a=a=>e(e.s=a);e.O(0,[613,807,497,954,358],()=>a(8778)),_N_E=e.O()}]);