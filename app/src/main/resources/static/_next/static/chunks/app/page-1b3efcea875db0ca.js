(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{118:(e,a,t)=>{"use strict";t.d(a,{Ag:()=>l,Bs:()=>d,D9:()=>c,GZ:()=>i,Mu:()=>m,eM:()=>p,fg:()=>o,jA:()=>f,v_:()=>x,wg:()=>u});var r=t(6807);let s="http://localhost:8080",n=r.A.create({baseURL:s,timeout:36e4});function l(){return"".concat(s,"/api/wx/subscribe")}async function o(e){await n.post("/api/wx/callback",e,{headers:{"content-type":"application/xml"}})}async function i(e){var a;let t=await n.get("/api/oc/list",{params:e});if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取岗位列表失败")}async function d(e){var a;let t=await n.get("/api/oc/detail?id=".concat(e));if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取岗位信息失败")}async function c(e){var a;let t=await n.post("/api/admin/gather/submit",e);if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"AI录入失败")}async function m(e){var a;let t=await n.get("/api/admin/draft/list",{params:e});if(t.data&&0===t.data.code)return Array.isArray(t.data.data)?{list:t.data.data,total:t.data.data.length}:t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取草稿列表失败")}async function u(e){var a;let t=await n.post("/api/admin/draft/toOc",e);if(!t.data||0!==t.data.code)throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"发布失败")}async function f(e){var a;let t=await n.post("/api/admin/draft/update",e);if(t.data&&0===t.data.code)return!0;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"草稿更新失败")}async function p(e){var a;let t=await n.get("/api/admin/user/list",{params:e});if(t.data&&0===t.data.code)return t.data.data;throw Error((null===(a=t.data)||void 0===a?void 0:a.msg)||"获取用户列表失败")}async function x(e){var a;let t=new URLSearchParams;t.append("userId",String(e.userId)),t.append("role",String(e.role)),t.append("expireTime",String(e.expireTime));let r=await n.post("/api/admin/user/updateRole",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(r.data&&0===r.data.code)return!0===r.data.data;throw Error((null===(a=r.data)||void 0===a?void 0:a.msg)||"用户角色更新失败")}n.interceptors.request.use(e=>{{let a=localStorage.getItem("oc-token");a&&(e.headers=e.headers||{},e.headers["X-OC-TOKEN"]=a)}return e})},900:(e,a,t)=>{"use strict";t.d(a,{p:()=>l});var r=t(8081),s=t(2149),n=t(7687);let l=s.forwardRef((e,a)=>{let{className:t,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...l})});l.displayName="Input"},5160:(e,a,t)=>{"use strict";t.d(a,{$:()=>d,r:()=>i});var r=t(8081),s=t(2149),n=t(9907),l=t(3484),o=t(7687);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,a)=>{let{className:t,variant:s,size:l,asChild:d=!1,...c}=e,m=d?n.DX:"button";return(0,r.jsx)(m,{className:(0,o.cn)(i({variant:s,size:l,className:t})),ref:a,...c})});d.displayName="Button"},5192:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>u,L3:()=>p,c7:()=>f,lG:()=>i,zM:()=>d});var r=t(8081),s=t(2149),n=t(437),l=t(2522),o=t(7687);let i=n.bL,d=n.l9,c=n.ZL;n.bm;let m=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.hJ,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});m.displayName=n.hJ.displayName;let u=s.forwardRef((e,a)=>{let{className:t,children:s,...i}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(n.UC,{ref:a,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[s,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.UC.displayName;let f=e=>{let{className:a,...t}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};f.displayName="DialogHeader";let p=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});p.displayName=n.hE.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",t),...s})}).displayName=n.VY.displayName},5904:(e,a,t)=>{"use strict";t.d(a,{bq:()=>u,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>m});var r=t(8081),s=t(2149),n=t(4692),l=t(392),o=t(6801),i=t(6722),d=t(7687);let c=n.bL;n.YJ;let m=n.WT,u=s.forwardRef((e,a)=>{let{className:t,children:s,...o}=e;return(0,r.jsxs)(n.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...o,children:[s,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.l9.displayName;let f=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})});f.displayName=n.PP.displayName;let p=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=n.wn.displayName;let x=s.forwardRef((e,a)=>{let{className:t,children:s,position:l="popper",...o}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...o,children:[(0,r.jsx)(f,{}),(0,r.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})})});x.displayName=n.UC.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s})}).displayName=n.JU.displayName;let h=s.forwardRef((e,a)=>{let{className:t,children:s,...l}=e;return(0,r.jsxs)(n.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:s})]})});h.displayName=n.q7.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=n.wv.displayName},5977:(e,a,t)=>{"use strict";t.d(a,{E:()=>o});var r=t(8081);t(2149);var s=t(3484),n=t(7687);let l=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:t}),a),...s})}},6228:(e,a,t)=>{"use strict";t.d(a,{A0:()=>o,BF:()=>i,Hj:()=>d,XI:()=>l,nA:()=>m,nd:()=>c});var r=t(8081),s=t(2149),n=t(7687);let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:a,className:(0,n.cn)("w-full caption-bottom text-sm",t),...s})})});l.displayName="Table";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("thead",{ref:a,className:(0,n.cn)("[&_tr]:border-b",t),...s})});o.displayName="TableHeader";let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("tbody",{ref:a,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...s})});i.displayName="TableBody",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("tfoot",{ref:a,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s})}).displayName="TableFooter";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("tr",{ref:a,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});d.displayName="TableRow";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("th",{ref:a,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})});c.displayName="TableHead";let m=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("td",{ref:a,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s})});m.displayName="TableCell",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("caption",{ref:a,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...s})}).displayName="TableCaption"},7687:(e,a,t)=>{"use strict";t.d(a,{cn:()=>n});var r=t(6522),s=t(4483);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}},8514:(e,a,t)=>{"use strict";t.d(a,{LoginUserProvider:()=>d,y:()=>i});var r=t(8081),s=t(2149);function n(e){try{let a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(a).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}catch(e){return null}}function l(e){try{let a=n(e);if(!a)return!1;if(a.exp&&"number"==typeof a.exp)return a.exp>Math.floor(Date.now()/1e3);return!0}catch(e){return!1}}let o=(0,s.createContext)({userInfo:null,setUserInfo:()=>{},logout:()=>{}});function i(){return(0,s.useContext)(o)}function d(e){let{children:a}=e,[t,i]=(0,s.useState)(null);return(0,s.useEffect)(()=>{{let e=localStorage.getItem("oc-user"),a=localStorage.getItem("oc-token");if(e&&a&&l(a))try{i(JSON.parse(e));return}catch(e){}else localStorage.removeItem("oc-user"),localStorage.removeItem("oc-token")}let e=function(e){if("undefined"==typeof document)return null;let a=document.cookie.match(RegExp("(^| )"+e+"=([^;]+)"));return a?decodeURIComponent(a[2]):null}("oc-session");if(e&&l(e)){let a=n(e);if(a){let t={userId:a.uid,role:a.r,nickname:a.un,avatar:a.av};i(t),localStorage.setItem("oc-user",JSON.stringify(t)),localStorage.setItem("oc-token",e)}}},[]),(0,r.jsx)(o.Provider,{value:{userInfo:t,setUserInfo:i,logout:()=>{document.cookie="oc-session=;path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT",i(null),localStorage.removeItem("oc-user"),localStorage.removeItem("oc-token")}},children:a})}},9007:(e,a,t)=>{Promise.resolve().then(t.bind(t,9454))},9454:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>O});var r=t(8081),s=t(2149),n=t(9415),l=t(392),o=t(6546),i=t(2950),d=t(5160),c=t(900),m=t(5904),u=t(6228),f=t(5977),p=t(5192),x=t(2297),h=t(3602),g=(t(8381),t(7687));let b=e=>{let{className:a,...t}=e;return(0,r.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,g.cn)("mx-auto flex w-full justify-center",a),...t})};b.displayName="Pagination";let v=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("ul",{ref:a,className:(0,g.cn)("flex flex-row items-center gap-1",t),...s})});v.displayName="PaginationContent";let j=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("li",{ref:a,className:(0,g.cn)("",t),...s})});j.displayName="PaginationItem";let y=e=>{let{className:a,isActive:t,size:s="icon",...n}=e;return(0,r.jsx)("a",{"aria-current":t?"page":void 0,className:(0,g.cn)((0,d.r)({variant:t?"outline":"ghost",size:s}),a),...n})};y.displayName="PaginationLink";let N=e=>{let{className:a,...t}=e;return(0,r.jsxs)(y,{"aria-label":"Go to previous page",size:"default",className:(0,g.cn)("gap-1 pl-2.5",a),...t,children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Previous"})]})};N.displayName="PaginationPrevious";let w=e=>{let{className:a,...t}=e;return(0,r.jsxs)(y,{"aria-label":"Go to next page",size:"default",className:(0,g.cn)("gap-1 pr-2.5",a),...t,children:[(0,r.jsx)("span",{children:"Next"}),(0,r.jsx)(h.A,{className:"h-4 w-4"})]})};w.displayName="PaginationNext";var k=t(4874),T=t(6722),C=t(8022);let A=k.bL,R=k.l9;k.YJ,k.ZL,k.Pb,k.z6,s.forwardRef((e,a)=>{let{className:t,inset:s,children:n,...l}=e;return(0,r.jsxs)(k.ZP,{ref:a,className:(0,g.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...l,children:[n,(0,r.jsx)(h.A,{className:"ml-auto"})]})}).displayName=k.ZP.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(k.G5,{ref:a,className:(0,g.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}).displayName=k.G5.displayName;let S=s.forwardRef((e,a)=>{let{className:t,sideOffset:s=4,...n}=e;return(0,r.jsx)(k.ZL,{children:(0,r.jsx)(k.UC,{ref:a,sideOffset:s,className:(0,g.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});S.displayName=k.UC.displayName;let I=s.forwardRef((e,a)=>{let{className:t,inset:s,...n}=e;return(0,r.jsx)(k.q7,{ref:a,className:(0,g.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n})});I.displayName=k.q7.displayName,s.forwardRef((e,a)=>{let{className:t,children:s,checked:n,...l}=e;return(0,r.jsxs)(k.H_,{ref:a,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(k.VF,{children:(0,r.jsx)(T.A,{className:"h-4 w-4"})})}),s]})}).displayName=k.H_.displayName,s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,r.jsxs)(k.hN,{ref:a,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(k.VF,{children:(0,r.jsx)(C.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=k.hN.displayName,s.forwardRef((e,a)=>{let{className:t,inset:s,...n}=e;return(0,r.jsx)(k.JU,{ref:a,className:(0,g.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n})}).displayName=k.JU.displayName;let z=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(k.wv,{ref:a,className:(0,g.cn)("-mx-1 my-1 h-px bg-muted",t),...s})});z.displayName=k.wv.displayName;var E=t(7950),U=t.n(E),P=t(118),_=t(9651),L=t(3989),D=t(8514);function O(){let[e,a]=(0,s.useState)(null),[t,x]=(0,s.useState)("frontend"),[h,g]=(0,s.useState)([]),[k,T]=(0,s.useState)([]),[C,E]=(0,s.useState)({companyName:"",companyType:"",location:"",recruitmentType:"",recruitmentTarget:"",position:""}),[O,J]=(0,s.useState)(1),[M,F]=(0,s.useState)(0),[V,q]=(0,s.useState)({}),G=(0,_.useRouter)(),[H,Z]=(0,s.useState)(!1),[$,B]=(0,s.useState)(""),[X,Y]=(0,s.useState)(""),[K,Q]=(0,s.useState)(""),[W,ee]=(0,s.useState)(!1),[ea,et]=(0,s.useState)(!1),[er,es]=(0,s.useState)(!1),{userInfo:en,setUserInfo:el,logout:eo}=(0,D.y)(),[ei,ed]=(0,s.useState)("");(0,s.useEffect)(()=>{ee(!0)},[]),(0,s.useEffect)(()=>{H?ed((0,P.Ag)()):ed("")},[H]),function(e,a,t){let r=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(!e)return;let t=new window.EventSource(e);return r.current=t,t.onmessage=e=>{let[t,...r]=e.data.split("#");a(t,r.join("#"))},t.onerror=e=>{t.close()},()=>{t.close()}},[e,a,void 0])}(ei,(0,s.useCallback)((e,a)=>{if("qr"===e&&B(a),"init"===e&&Y(a),"login"===e&&(Q(a),Z(!1),a)){document.cookie=a;let e=a.substring(a.indexOf("=")+1,a.indexOf(";")),t=(()=>{try{let a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(a).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}catch(e){return null}})();if(t){let a={userId:t.uid,role:t.r,nickname:t.un,avatar:t.av};el(a),localStorage.setItem("oc-user",JSON.stringify(a)),localStorage.setItem("oc-token",e)}}},[el]));let ec=async(e,a)=>{let t="<xml><URL><![CDATA[https://hhui.top]]></URL><ToUserName><![CDATA[一灰灰blog]]></ToUserName><FromUserName><![CDATA[demoUser-".concat("user"===e?"login":"admin","]]></FromUserName><CreateTime>").concat(Math.floor(Date.now()/1e3),"</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[").concat(a,"]]></Content><MsgId>").concat(Date.now(),"</MsgId></xml>");try{"user"===e?et(!0):es(!0),await (0,P.fg)(t)}catch(e){}finally{et(!1),es(!1)}},em=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;(0,P.GZ)({page:a,size:10,...e}).then(e=>{let a=e.list.map(e=>({id:e.id,companyName:e.companyName,companyType:e.companyType,location:e.jobLocation,recruitmentType:e.recruitmentType,recruitmentTarget:e.recruitmentTarget,position:e.position,applicationProgress:e.deliveryProgress,updateTime:e.lastUpdatedTime?e.lastUpdatedTime.split("T")[0]:"",deadline:e.deadline,relatedLinks:e.relatedLink,recruitmentNotice:e.jobAnnouncement,referralCode:e.internalReferralCode,notes:e.remarks}));g(a),T(a),F(e.total)}).catch(e=>{console.error("获取岗位数据失败",e)})};(0,s.useEffect)(()=>{em(V,O)},[O]);let eu=Math.ceil(M/10);return"admin"===t&&(null==en?void 0:en.role)===3?(G.push("/admin"),null):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white border-b",children:(0,r.jsx)("div",{className:"px-10",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"\uD83C\uDFE2来个OC"})}),(0,r.jsxs)("nav",{className:"flex space-x-6",children:[(0,r.jsx)("a",{href:"#",className:"text-gray-700 hover:text-blue-600",children:"招聘"}),(0,r.jsx)("a",{href:"#",className:"text-gray-700 hover:text-blue-600",children:"实习"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(n.A,{className:"h-5 w-5 text-gray-500"}),en?(0,r.jsxs)(A,{children:[(0,r.jsx)(R,{asChild:!0,children:(0,r.jsxs)("span",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("img",{src:en.avatar,alt:"avatar",className:"w-8 h-8 rounded-full cursor-pointer",title:en.nickname||"用户".concat(en.userId)}),(0,r.jsx)(l.A,{className:"w-4 h-4 ml-1 text-gray-500"})]})}),(0,r.jsxs)(S,{align:"end",children:[(0,r.jsxs)("div",{className:"px-3 py-2",children:[(0,r.jsx)("div",{className:"font-medium",children:en.nickname||"用户".concat(en.userId)}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:1===en.role?"普通用户":2===en.role?"VIP用户":3===en.role?"管理员":"未知"})]}),(0,r.jsx)(z,{}),(0,r.jsx)(I,{onClick:()=>{},children:"个人信息"}),3===en.role&&(0,r.jsx)(I,{onClick:()=>G.push("/admin"),children:"管理后台"}),(0,r.jsx)(z,{}),(0,r.jsx)(I,{onClick:eo,children:"退出"})]})]}):W&&(0,r.jsxs)(p.lG,{open:H,onOpenChange:Z,children:[(0,r.jsx)(p.zM,{asChild:!0,children:(0,r.jsxs)(d.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"登录"]})}),(0,r.jsxs)(p.Cf,{children:[(0,r.jsx)(p.c7,{children:(0,r.jsx)(p.L3,{children:"扫码登录"})}),$?(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(L.X,{value:$,size:180}),(0,r.jsxs)("div",{className:"mt-2 text-lg font-bold",children:["验证码：",X]}),(0,r.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,r.jsx)(d.$,{onClick:()=>ec("user",X),disabled:ea,children:ea?"登录中...":"普通用户登录"}),(0,r.jsx)(d.$,{onClick:()=>ec("admin",X),disabled:er,variant:"secondary",children:er?"登录中...":"管理员登录"})]})]}):(0,r.jsx)("div",{children:"等待二维码..."})]})]})]})]})})}),(0,r.jsxs)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-4",children:[(0,r.jsx)(c.p,{placeholder:"公司名称",value:C.companyName,onChange:e=>E(a=>({...a,companyName:e.target.value}))}),(0,r.jsxs)(m.l6,{value:C.companyType,onValueChange:e=>E(a=>({...a,companyType:e})),children:[(0,r.jsx)(m.bq,{children:(0,r.jsx)(m.yv,{placeholder:"公司类型"})}),(0,r.jsxs)(m.gC,{children:[(0,r.jsx)(m.eb,{value:"all",children:"全部"}),(0,r.jsx)(m.eb,{value:"民企",children:"民企"}),(0,r.jsx)(m.eb,{value:"央国企",children:"央国企"}),(0,r.jsx)(m.eb,{value:"事业单位",children:"事业单位"}),(0,r.jsx)(m.eb,{value:"外企",children:"外企"})]})]}),(0,r.jsx)(c.p,{placeholder:"工作地点",value:C.location,onChange:e=>E(a=>({...a,location:e.target.value}))}),(0,r.jsxs)(m.l6,{value:C.recruitmentType,onValueChange:e=>E(a=>({...a,recruitmentType:e})),children:[(0,r.jsx)(m.bq,{children:(0,r.jsx)(m.yv,{placeholder:"招聘类型"})}),(0,r.jsxs)(m.gC,{children:[(0,r.jsx)(m.eb,{value:"all",children:"全部"}),(0,r.jsx)(m.eb,{value:"春招",children:"春招"}),(0,r.jsx)(m.eb,{value:"秋招",children:"秋招"}),(0,r.jsx)(m.eb,{value:"秋招提前批",children:"秋招提前批"}),(0,r.jsx)(m.eb,{value:"日常招聘",children:"日常招聘"})]})]}),(0,r.jsxs)(m.l6,{value:C.recruitmentTarget,onValueChange:e=>E(a=>({...a,recruitmentTarget:e})),children:[(0,r.jsx)(m.bq,{children:(0,r.jsx)(m.yv,{placeholder:"招聘对象"})}),(0,r.jsxs)(m.gC,{children:[(0,r.jsx)(m.eb,{value:"all",children:"全部"}),(0,r.jsx)(m.eb,{value:"2025年毕业生",children:"2025年毕业生"}),(0,r.jsx)(m.eb,{value:"2026年毕业生",children:"2026年毕业生"}),(0,r.jsx)(m.eb,{value:"社会招聘",children:"社会招聘"})]})]}),(0,r.jsx)(c.p,{placeholder:"岗位名称",value:C.position,onChange:e=>E(a=>({...a,position:e.target.value}))})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)(d.$,{onClick:()=>{let e={companyName:C.companyName||void 0,companyType:("all"==C.companyType?void 0:C.companyType)||void 0,jobLocation:C.location||void 0,recruitmentType:("all"==C.recruitmentType?void 0:C.recruitmentType)||void 0,recruitmentTarget:("all"==C.recruitmentTarget?void 0:C.recruitmentTarget)||void 0,position:C.position||void 0};q(e),J(1),em(e,1)},className:"bg-blue-500 hover:bg-blue-600",children:[(0,r.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"查询"]}),(0,r.jsx)(d.$,{variant:"outline",onClick:()=>{E({companyName:"",companyType:"",location:"",recruitmentType:"",recruitmentTarget:"",position:""}),q({}),J(1),em({},1)},children:"重置"})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:(0,r.jsxs)(u.XI,{className:"min-w-[1200px] table-fixed",children:[(0,r.jsx)(u.A0,{children:(0,r.jsxs)(u.Hj,{children:[(0,r.jsx)(u.nd,{className:"w-32 break-words",children:"公司名称"}),(0,r.jsx)(u.nd,{className:"w-32 break-words",children:"公司类型"}),(0,r.jsx)(u.nd,{className:"w-32 break-words",children:"工作地点"}),(0,r.jsx)(u.nd,{className:"w-24 break-words",children:"招聘类型"}),(0,r.jsx)(u.nd,{className:"w-28 break-words",children:"招聘对象"}),(0,r.jsx)(u.nd,{className:"w-56 break-words",children:"岗位(大都不限专业)"}),(0,r.jsx)(u.nd,{className:"w-20 break-words",children:"投递进度"}),(0,r.jsx)(u.nd,{className:"w-24 break-words",children:"更新时间"}),(0,r.jsx)(u.nd,{className:"w-24 break-words",children:"投递截止"}),(0,r.jsx)(u.nd,{className:"w-32 break-words",children:"相关链接"}),(0,r.jsx)(u.nd,{className:"w-32 break-words",children:"招聘公告"}),(0,r.jsx)(u.nd,{className:"w-24 break-words",children:"内推码"}),(0,r.jsx)(u.nd,{className:"w-32 break-words",children:"备注"})]})}),(0,r.jsx)(u.BF,{children:k.map(e=>(0,r.jsxs)(u.Hj,{className:"hover:bg-gray-50 cursor-pointer",children:[(0,r.jsx)(u.nA,{className:"font-medium break-words w-32",children:(0,r.jsx)(U(),{href:"/job?id=".concat(e.id),className:"text-blue-600 hover:underline",children:e.companyName})}),(0,r.jsx)(u.nA,{className:"break-words w-32",children:(0,r.jsx)(f.E,{className:"rounded-md",variant:"民企"===e.companyType?"default":"央国企"===e.companyType?"secondary":"outline",children:e.companyType})}),(0,r.jsx)(u.nA,{className:"break-words w-32",children:e.location}),(0,r.jsx)(u.nA,{className:"break-words w-24",children:(0,r.jsx)(f.E,{variant:"outline",className:"text-pink-600 border-pink-600 rounded-md",children:e.recruitmentType})}),(0,r.jsx)(u.nA,{className:"break-words w-28",children:(0,r.jsx)(f.E,{variant:"outline",className:"text-blue-600 border-blue-600 rounded-md",children:e.recruitmentTarget})}),(0,r.jsx)(u.nA,{className:"max-w-xs break-words w-56",children:(0,r.jsx)("div",{className:"whitespace-pre-line break-words",title:e.position,children:e.position})}),(0,r.jsx)(u.nA,{className:"break-words w-20",children:e.applicationProgress}),(0,r.jsx)(u.nA,{className:"break-words w-24",children:e.updateTime}),(0,r.jsx)(u.nA,{className:"break-words w-24",children:e.deadline}),(0,r.jsx)(u.nA,{className:"break-words w-32",children:(0,r.jsx)("a",{href:e.relatedLinks,className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-blue-500 hover:bg-blue-600 text-white h-8 px-3",target:"_blank",rel:"noopener noreferrer",children:"投递"})}),(0,r.jsx)(u.nA,{className:"break-words w-32",children:(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)(d.$,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50 bg-transparent",children:"公告"})})}),(0,r.jsx)(u.nA,{className:"break-words w-24",children:e.referralCode}),(0,r.jsx)(u.nA,{className:"break-words w-32",children:e.notes})]},String(e.id)))})]})}),(0,r.jsxs)("div",{className:"mt-6 flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700 mb-2",children:["共 ",M," 条记录 当前在线人数: -"]}),(0,r.jsx)("div",{children:(0,r.jsx)(b,{children:(0,r.jsxs)(v,{children:[(0,r.jsx)(j,{children:(0,r.jsx)(N,{href:"#",onClick:e=>{e.preventDefault(),O>1&&J(O-1)}})}),Array.from({length:Math.min(5,eu)},(e,a)=>(0,r.jsx)(j,{children:(0,r.jsx)(y,{href:"#",isActive:O===a+1,onClick:e=>{e.preventDefault(),J(a+1)},children:a+1})},a+1)),(0,r.jsx)(j,{children:(0,r.jsx)(w,{href:"#",onClick:e=>{e.preventDefault(),O<eu&&J(O+1)}})})]})})})]})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[613,807,578,910,216,621,878,497,954,358],()=>a(9007)),_N_E=e.O()}]);